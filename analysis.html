<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XAUUSD é‡‘èåˆ†ææŠ¥å‘Šç³»ç»Ÿ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: #1e1e1e; color: #dcdcdc; }
        .container { display: flex; max-width: 1200px; margin: 20px auto; background-color: #252526; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); }
        .list-view { width: 300px; background-color: #333333; padding: 20px 0; overflow-y: auto; border-right: 1px solid #444; }
        .content-view { flex-grow: 1; padding: 30px; overflow-y: auto; max-height: 80vh; }
        
        .rh-meta { font-size: 0.9em; margin-top: -10px; margin-bottom: 20px; color: #b5b5b5; }
        
        /* è¯­è¨€åˆ‡æ¢æ§åˆ¶ */
        .lang-cn { display: none; }
        .lang-en { display: none; }
        .cn-mode .lang-cn, .en-mode .lang-en { display: block; }
        
        h1, h2, h3 { color: #66ccff; margin-top: 0; padding-bottom: 5px; border-bottom: 1px solid #444; }
        .card { background-color: #2d2d30; padding: 15px; border-radius: 6px; margin-bottom: 20px; border-left: 3px solid #66ccff; }
        .price-highlight { font-size: 1.5em; font-weight: bold; color: #f7b731; margin-right: 10px; }
        .price-sub { font-size: 0.8em; color: #b5b5b5; }
        /* é¢œè‰²å˜é‡åœ¨æ ·å¼ä¸­å®šä¹‰ä¸ºå…·ä½“çš„é¢œè‰²å€¼ï¼Œä»¥é¿å…JSå˜é‡å†²çª */
        .tag { padding: 4px 8px; border-radius: 4px; font-size: 0.8em; margin-left: 5px; font-weight: 600; }
        .bullish { background-color: #38761d; color: white; }
        .neutral { background-color: #8b8b8b; color: white; }
        .step { display: flex; align-items: flex-start; margin-bottom: 10px; }
        .step-num { background-color: #66ccff; color: #1e1e1e; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8em; margin-right: 10px; flex-shrink: 0; }
        .chart-container { margin: 15px 0; }
        .chart-container img { max-width: 100%; height: auto; display: block; border-radius: 4px; }
        
        /* åˆ—è¡¨æ ·å¼ */
        .group-header { cursor: pointer; padding: 10px 20px; font-weight: bold; color: #dcdcdc; background-color: #3e3e40; border-top: 1px solid #444; display: flex; justify-content: space-between; align-items: center; }
        .group-header svg { width: 18px; height: 18px; fill: #dcdcdc; transition: transform 0.3s; }
        .group-header.open svg { transform: rotate(180deg); }
        .group-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-in-out; }
        .group-content.show { max-height: 500px; /* è¶³å¤Ÿå¤§ä»¥æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ */ }
        .report-item { padding: 8px 20px 8px 30px; cursor: pointer; transition: background-color 0.2s; border-bottom: 1px solid #444; position: relative; }
        .report-item:hover { background-color: #4a4a4a; }
        .report-item.active { background-color: #66ccff; color: #1e1e1e; font-weight: 600; }
        .report-item.active .item-date { color: #1e1e1e; }
        .item-date { font-size: 0.75em; color: #b5b5b5; display: block; }
        .item-title { font-size: 0.9em; line-height: 1.2; }
        
        .language-toggle { text-align: right; padding: 10px 30px 0; }
        .language-toggle button { background-color: #66ccff; color: #1e1e1e; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; margin-left: 5px; font-weight: bold; }
        .language-toggle button:disabled { background-color: #4a4a4a; color: #dcdcdc; cursor: default; }
    </style>
</head>
<body class="cn-mode">
    <div class="language-toggle">
        <button onclick="setLanguage('cn')" id="lang-cn-btn">ä¸­æ–‡</button>
        <button onclick="setLanguage('en')" id="lang-en-btn">English</button>
    </div>
    <div class="container">
        <div class="list-view">
            <div id="report-list">
                </div>
        </div>
        <div class="content-view">
            <div id="article-content">
                </div>
        </div>
    </div>
    
    <script>
        // å£°æ˜å…¨å±€å˜é‡
        let currentReportId = null;
        let currentLang = 'cn';
        
        // æŠ¥å‘Šæ•°æ® (å·²ä¼˜åŒ–æ–‡æ¡ˆå’Œæ—¥æœŸ)
        const reports = [
            // æŠ¥å‘Š 1ï¼šæ—¥å†…å±•æœ› (2025-11-25) - ä¼˜åŒ–åçš„æ–‡æ¡ˆ
            {
                id: "xauusd_20251125_intraday_outlook_v2",
                date: "2025-11-25", 
                title: { en: "XAUUSD Key Discount Zone Structure Test", cn: "XAUUSD å…³é”®æŠ˜æ‰£åŒºç»“æ„æµ‹è¯•" },
                content: `
                    <div class="report-header-content">
                        <div class="lang-cn">
                            <h1 class="rh-title">XAUUSD å…³é”®æŠ˜æ‰£åŒºç»“æ„æµ‹è¯•</h1>
                            <div class="rh-meta">ğŸ“… å‘å¸ƒ: 2025å¹´11æœˆ25æ—¥ &nbsp;|&nbsp; <span style="color:#8b8b8b">â—</span> è§‚ç‚¹: éœ‡è¡ (Neutral)</div>
                        </div>
                        <div class="lang-en">
                            <h1 class="rh-title">XAUUSD Key Discount Zone Structure Test</h1>
                            <div class="rh-meta">ğŸ“… Date: Nov 25, 2025 &nbsp;|&nbsp; <span style="color:#8b8b8b">â—</span> Bias: Neutral</div>
                        </div>
                    </div>

                    <section>
                        <div class="lang-cn"><h2>01. æ—¥çº¿ç»“æ„ä¸å½“å‰ä½ç½® (Market Pulse)</h2></div>
                        <div class="lang-en"><h2>01. Daily Structure & Current Position</h2></div>

                        <div class="card">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:10px;">
                                <div><span class="price-highlight">XAUUSD: $4145.18</span><span class="price-sub"> / Spot Gold</span></div>
                                <div><span class="tag neutral">Consolidation</span><span class="tag neutral">OTE Zone Test</span></div>
                            </div>
                            
                            <div class="lang-cn"><p>ä»·æ ¼åœ¨ä¸Šå‘¨**å¼ºåŠ²æ‰©å¼  (Expansion)**åï¼Œç›®å‰æ­£åœ¨æµ‹è¯•æ—¥çº¿çº§åˆ«çš„ **OTE (æœ€ä½³äº¤æ˜“å…¥åœº) åŒºåŸŸ**ï¼Œå³ **0.50 - 0.618** æ–æ³¢é‚£å¥‘å›è°ƒåŒºé—´ï¼ˆå¤§çº¦ $4121 - $4151ï¼‰ã€‚è¯¥åŒºåŸŸæ˜¯å…³é”®çš„**æ·±åº¦æŠ˜æ‰£åŒº (Deep Discount)**ï¼ŒåŒæ—¶ä¸æ­¤å‰çš„ç»“æ„é«˜ç‚¹å½¢æˆ**ä¾›ç»™å‹åŠ›**ã€‚å¸‚åœºæ„å›¾æ­£åœ¨è¿›è¡ŒåŒå‘æµ‹è¯•ï¼Œéœ€è¦ç­‰å¾…ç»“æ„ç¡®è®¤ã€‚</p></div>
                            <div class="lang-en"><p>Price is testing the Daily **Optimal Trade Entry (OTE)** zone ($4121 - $4151), a deep discount area that coincides with the structural high, creating **supply pressure**. Market intent requires structural confirmation.</p></div>
                            
                            <div class="chart-container"><img src="assets/analysis/XAUUSD_2025-11-25_09-38-16.png" alt="XAUUSD Daily Intraday Analysis" loading="lazy"></div>

                            <div class="lang-cn">
                                <h3>ğŸ“Š æ ¸å¿ƒé€»è¾‘å¤ç›˜</h3>
                                <ul>
                                    <li><strong>æ—¥çº¿ç»“æ„ï¼š</strong> ä»·æ ¼å¤„äºå¤§çº§åˆ«ç‰›å¸‚ç»“æ„ï¼Œä½†çŸ­æœŸåœ¨ä¿®å¤ $4245 è‡³ $3998 çš„æ—¥çº¿ä¸‹è·Œç©ºé—´ã€‚</li>
                                    <li><strong>å…³é”®é˜»åŠ›ï¼š</strong> $4151 (0.618 Fib) å’Œ $4121 (0.50 Fib) æ˜¯æ—¥å†…å¤šç©ºäº‰å¤ºç„¦ç‚¹ã€‚ç«™ç¨³ $4151ï¼Œåˆ™é€šé“æ‰“å¼€è‡³ $4245ã€‚</li>
                                    <li><strong>ä¸‹æ–¹ POIï¼š</strong> é‡è¦çš„**æœªå¯¹å†²è®¢å•å— (Unmitigated Order Block)**ä½äº **$4056 - $4080 POI (å…´è¶£ç‚¹)**ã€‚è¿™æ˜¯å¦‚æœ $4121 å¤±å®ˆï¼Œä»·æ ¼å°†å›è¸©ä»¥å¯»æ±‚**å†å¹³è¡¡**çš„å…³é”®æ”¯æ’‘ã€‚</li>
                                </ul>
                            </div>
                            <div class="lang-en">
                                <h3>ğŸ“Š Core Logic Review</h3>
                                <ul>
                                    <li><strong>Daily Structure:</strong> Price is in a major bullish structure but is correcting the Daily drop from $4245 to $3998.</li>
                                    <li><strong>Key Resistance:</strong> $4151 (0.618 Fib) and $4121 (0.50 Fib) are the current focal points. A close above $4151 opens the path towards $4245.</li>
                                    <li><strong>Lower POI:</strong> The critical **Unmitigated Order Block** sits at the **$4056 - $4080 POI**. This is the level price must rebalance to if $4121 fails.</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <div class="lang-cn"><h2>02. å®æˆ˜æ‰§è¡Œ (Execution)</h2></div>
                        <div class="lang-en"><h2>02. Execution Plan</h2></div>
                        
                        <div class="card">
                            <div class="lang-cn"><h3>ğŸ“ˆ å‰§æœ¬ï¼šé«˜ä½åŒå‘è§‚å¯Ÿ (Two-Sided Observation)</h3></div>
                            <div class="lang-en"><h3>ğŸ“ˆ Scenario: Two-Sided Observation</h3></div>

                            <div class="step">
                                <div class="step-num">1</div>
                                <div class="lang-cn"><strong>é«˜ä½æµ‹è¯•ï¼š</strong> è§‚å¯Ÿ $4151 - $4160 åŒºåŸŸã€‚è‹¥ M15 å‡ºç°**è¯±ç©ºæ‰«ç›˜ (Stop Hunt)**å¹¶ä¼´éš**ç»“æ„çªç ´ (BOS/CHoCH)**ï¼Œå¯è€ƒè™‘çŸ­çº¿ç©ºå•ï¼Œç›®æ ‡å›è¡¥**å†…éƒ¨æµåŠ¨æ€§**è‡³ $4080 åŒºåŸŸã€‚</div>
                                <div class="lang-en"><strong>High Test:</strong> If an M15 **Stop Hunt** followed by a **BOS/CHoCH** occurs in the $4151 - $4160 zone, look for shorts targeting $4080 (Internal Liquidity).</div>
                            </div>
                            <div class="step">
                                <div class="step-num">2</div>
                                <div class="lang-cn"><strong>ä½ä½å›è¸©ï¼š</strong> é‡ç‚¹å…³æ³¨ $4080 **POI**ã€‚è¿™æ˜¯**æœºæ„é€¢ä½ä¹°å…¥çš„å®‰å…¨å…¥åœºç‚¹ (Safe Entry for Institutional Longs)**ã€‚åœ¨æ­¤å¤„å¯»æ‰¾ **M5/M1 ç»“æ„ç¡®è®¤ (Structural Confirmation)** å…¥åœºã€‚</div>
                                <div class="lang-en"><strong>Low Retest:</strong> Focus on the $4080 POI. This is the safe entry for institutional longs. Look for **M5/M1 Structural Confirmation** here.</div>
                            </div>
                            <div class="step">
                                <div class="step-num">3</div>
                                <div class="lang-cn"><strong>æ‰©å¼ ç›®æ ‡ï¼š</strong> è‹¥ä»·æ ¼å®ä½“çªç ´ $4160 å¹¶æŒç»­ç«™ç¨³ï¼Œåˆ™æ”¾å¼ƒå›è°ƒæ€è·¯ï¼Œè¿½æ¶¨è‡³ $4245ï¼ˆè¶‹åŠ¿æ‰©å¼ ç›®æ ‡ï¼‰ã€‚</div>
                                <div class="lang-en"><strong>Expansion Target:</strong> If price breaks $4160 and holds, abandon retracement bias and seek longs towards $4245 (Expansion Target).</div>
                            </div>
                            <hr>
                            <p><strong>ğŸ¯ Targets:</strong> Short-term targets: $4080. Long-term targets: $4245 (If $4160 holds).</p>
                        </div>
                    </section>
                `
            },
            // æŠ¥å‘Š 2ï¼šå‘¨åº¦å±•æœ› (2025-11-23) - ä¼˜åŒ–åçš„æ–‡æ¡ˆå’Œæ—¥æœŸ
            {
                id: "xauusd_20251125_weekly_outlook",
                date: "2025-11-23", // ä¿®æ­£æ—¥æœŸä¸º 11/23
                title: { en: "XAUUSD Weekly Outlook: Bullish Accumulation Continues", cn: "XAUUSD å‘¨åº¦å±•æœ›ï¼šå¤šå¤´æŒç»­å¸ç­¹" },
                content: `
                    <div class="report-header-content">
                        <div class="lang-cn">
                            <h1 class="rh-title">XAUUSD å‘¨åº¦å±•æœ›ï¼šå¤šå¤´æŒç»­å¸ç­¹</h1>
                            <div class="rh-meta">ğŸ“… å‘å¸ƒ: 2025å¹´11æœˆ23æ—¥ &nbsp;|&nbsp; <span style="color:#38761d">â—</span> è§‚ç‚¹: çœ‹æ¶¨ (Bullish)</div>
                        </div>
                        <div class="lang-en">
                            <h1 class="rh-title">XAUUSD Weekly Outlook: Bullish Accumulation Continues</h1>
                            <div class="rh-meta">ğŸ“… Date: Nov 23, 2025 &nbsp;|&nbsp; <span style="color:#38761d">â—</span> Bias: Bullish</div>
                        </div>
                    </div>

                    <section>
                        <div class="lang-cn"><h2>01. æœ¬å‘¨å¸‚åœºåˆ†æ (Market Pulse)</h2></div>
                        <div class="lang-en"><h2>01. Market Pulse Analysis</h2></div>

                        <div class="card">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:10px;">
                                <div><span class="price-highlight">XAUUSD: $4064.70</span><span class="price-sub"> / Spot Gold</span></div>
                                <div><span class="tag bullish">Strong Bullish Flow</span><span class="tag neutral">H4 FVG Mitigated</span></div>
                            </div>
                            
                            <div class="lang-cn"><p>ä¸Šå‘¨ XAUUSD å±•ç°å‡ºå¼ºåŠ²çš„å¤šå¤´æœºæ„è®¢å•æµã€‚ä»·æ ¼åœ¨ä¸¤æ¬¡é‡è¦çš„ **H4 FVG (å…¬å…ä»·å€¼ç¼ºå£) ç²¾å‡†å›è¡¥**åï¼Œå¤šå¤´è®¢å•æµæŒç»­ç”Ÿæ•ˆã€‚ä»·æ ¼åœ¨å…³é”®çš„ä¸Šå‡è¶‹åŠ¿çº¿ï¼ˆè¯±å¯¼æµåŠ¨æ€§ï¼‰ä¸Šè¿›è¡Œäº†ä¸‰æ¬¡**æµåŠ¨æ€§æ‰«è¡æµ‹è¯•**ï¼Œæ¯æ¬¡éƒ½ä¼´éšç€å¿«é€Ÿçš„ç»“æ„åå¼¹ï¼Œç¡®è®¤äº†æœºæ„åœ¨å›æ’¤åŒºåŸŸçš„åšå®šä¹°å…¥æ„æ„¿ã€‚</p></div>
                            <div class="lang-en"><p>Last week, XAUUSD demonstrated persistent institutional bullish Order Flow. Price found robust support after two **precise H4 FVG mitigations**. The three successful low tests (Liquidity Sweep) on the crucial ascending trendline confirmed strong institutional buying intent in the retracement zones.</p></div>
                            
                            <div class="chart-container"><img src="assets/analysis/xauusd_nov25.jpg" alt="XAUUSD Weekly Outlook Chart Analysis" loading="lazy"></div>

                            <div class="lang-cn">
                                <h3>ğŸ“Š æ ¸å¿ƒé€»è¾‘å¤ç›˜</h3>
                                <ul>
                                    <li><strong>è¶‹åŠ¿çº¿è¯±å¯¼ (Trendline Liquidity):</strong> æ¸…æ™°çš„ä¸Šå‡è¶‹åŠ¿çº¿å½¢æˆäº†å·¨å¤§çš„**å–æ–¹æµåŠ¨æ€§ (SSL)**æ± ï¼Œæ¯æ¬¡å‡çªç ´åçš„åå¼¹éƒ½è¯æ˜äº†è¿™æ˜¯æœºæ„å¸çº³ç­¹ç çš„å…³é”®åŒºåŸŸã€‚</li>
                                    <li><strong>H4 FVG å›è¡¥ï¼š</strong> å›¾è¡¨æ˜¾ç¤ºä»·æ ¼ä¸¤æ¬¡å›è¡¥äº† H4 çº§åˆ«çš„ FVG åŒºåŸŸ ($3980-$4000 å’Œ $4030-$4045 é™„è¿‘)ï¼Œå›è¡¥åå³åå¼¹ï¼Œè¡¨æ˜å¤šå¤´åŠ›é‡çš„å¼ºåŠ²ã€‚</li>
                                    <li><strong>æµåŠ¨æ€§æ± ç´¯ç§¯ï¼š</strong> è§‚å¯Ÿåˆ°é«˜ç‚¹ï¼ˆå¦‚ $4200 å’Œ $4380 åŒºåŸŸï¼‰ä¸Šæ–¹å­˜åœ¨æ˜æ˜¾çš„**ä¹°æ–¹æµåŠ¨æ€§ (BSL)**ï¼Œè¿™äº›å°†æˆä¸ºä»·æ ¼æœªæ¥çš„ä¸»è¦ç›®æ ‡ã€‚</li>
                                </ul>
                            </div>
                            <div class="lang-en">
                                <h3>ğŸ“Š Core Logic Review</h3>
                                <ul>
                                    <li><strong>Trendline Liquidity (SSL):</strong> The clear ascending trendline created a significant **Sell-Side Liquidity (SSL)** pool, where each fake-out and bounce confirmed the area as a key institutional accumulation zone.</li>
                                    <li><strong>H4 FVG Mitigations:</strong> The chart shows price mitigating H4 FVGs twice (around $3980-$4000 and $4030-$4045), indicating strong bullish power after rebalancing.</li>
                                    <li><strong>Liquidity Pool Accumulation:</strong> Obvious **Buy-Side Liquidity (BSL)** is observed above highs (e.g., $4200 and $4380 zones), which will be primary targets for future price action.</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section>
                        <div class="lang-cn"><h2>02. å®æˆ˜æ‰§è¡Œ (Execution)</h2></div>
                        <div class="lang-en"><h2>02. Execution Plan</h2></div>
                        
                        <div class="card">
                            <div class="lang-cn"><h3>ğŸ“ˆ å‰§æœ¬ï¼šé¡ºåŠ¿å›æ’¤é€¢ä½åšå¤š (Buy the Dip in Trend)</h3></div>
                            <div class="lang-en"><h3>ğŸ“ˆ Scenario: Buy the Dip in Trend</h3></div>

                            <div class="step">
                                <div class="step-num">1</div>
                                <div class="lang-cn"><strong>å…¥åœºç­‰å¾…ï¼š</strong> ç­‰å¾…ä»·æ ¼å›è¸©è‡³ $4030 - $4050 åŒºåŸŸï¼Œå¯»æ‰¾ä½æ—¶é—´å‘¨æœŸï¼ˆM15/M5ï¼‰çš„ç»“æ„è½¬æ¢ (CHoCH) ä¿¡å·ï¼Œä¾‹å¦‚å‡çªç ´åçš„åè½¬ã€‚</div>
                                <div class="lang-en"><strong>Entry Wait:</strong> Wait for price to retrace to the $4030 - $4050 zone, looking for a low-timeframe (M15/M5) Change of Character (CHoCH) signal, such as a reversal after a false breakout.</div>
                            </div>
                            <div class="step">
                                <div class="step-num">2</div>
                                <div class="lang-cn"><strong>é£é™©æ§åˆ¶ï¼š</strong> å°†æ­¢æŸ (SL) è®¾ç½®åœ¨ $4010 ä¸‹æ–¹ï¼ˆç ´ä½è¶‹åŠ¿çº¿ä¸‹æ–¹æˆ– H4 OB åº•éƒ¨ï¼‰ï¼Œç¡®ä¿é£é™©å›æŠ¥æ¯”ã€‚</div>
                                <div class="lang-en"><strong>Risk Control:</strong> Place Stop Loss (SL) below $4010 (below the broken trendline or H4 OB bottom) to ensure a favorable risk-reward ratio.</div>
                            </div>
                            <div class="step">
                                <div class="step-num">3</div>
                                <div class="lang-cn"><strong>ç›®æ ‡é”å®šï¼š</strong> ç¬¬ä¸€ç›®æ ‡ä½ (TP1) è®¾åœ¨ $4200 é™„è¿‘çš„ä¸Šæ–¹ **FVG/BOS (ç»“æ„çªç ´)**ï¼Œç¬¬äºŒç›®æ ‡ä½ (TP2) è®¾åœ¨ $4380 çš„**å¤–éƒ¨æµåŠ¨æ€§é«˜ç‚¹ (External Liquidity High)**ã€‚</div>
                                <div class="lang-en"><strong>Target Lock:</strong> Set Target Price 1 (TP1) at the overhead **FVG/BOS** around $4200, and Target Price 2 (TP2) at the **External Liquidity High** of $4380.</div>
                            </div>
                            <hr>
                            <p><strong>ğŸ¯ Targets:</strong> TP1: $4200 / TP2: $4380 (Potential R:R 1:3+)</p>
                        </div>
                    </section>
                `
            }
        ];

        // === é€»è¾‘å¼•æ“ (æŒ‰æœˆåˆ†ç»„ã€åŠ è½½) ===
        function getGroupKey(dateStr) { 
            const date = new Date(dateStr); 
            if(isNaN(date)) return 'Invalid Date';
            const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]; 
            return `${months[date.getMonth()]} ${date.getFullYear()}`; 
        }

        const listContainer = document.getElementById('report-list');
        const contentContainer = document.getElementById('article-content');

        function renderList() {
            listContainer.innerHTML = '';
            const groups = {}; 
            const groupOrder = []; 
            
            reports.forEach(item => { 
                const groupName = getGroupKey(item.date); 
                if (!groups[groupName]) { 
                    groups[groupName] = []; 
                    groupOrder.push(groupName); 
                } 
                groups[groupName].push(item); 
            });
            
            // æ’åºï¼šæŒ‰æ—¥æœŸé™åºæ’åˆ—æœˆä»½
            groupOrder.sort((a, b) => new Date(b.replace(/(\w+) (\d+)/, '$1 1, $2')) - new Date(a.replace(/(\w+) (\d+)/, '$1 1, $2')));
            for (const groupName in groups) {
                // æ’åºï¼šæŒ‰æŠ¥å‘Šæ—¥æœŸé™åºæ’åˆ—æŠ¥å‘Š
                groups[groupName].sort((a, b) => new Date(b.date) - new Date(a.date));
            }
            
            groupOrder.forEach((groupName, gIndex) => {
                const groupHeader = document.createElement('div');
                groupHeader.className = `group-header ${gIndex === 0 ? 'open' : ''}`; 
                groupHeader.innerHTML = `<span>${groupName}</span> <svg viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>`;
                
                const groupContent = document.createElement('div');
                groupContent.className = `group-content ${gIndex === 0 ? 'show' : ''}`;
                
                groupHeader.onclick = () => { groupHeader.classList.toggle('open'); groupContent.classList.toggle('show'); };

                groups[groupName].forEach(item => {
                    const div = document.createElement('div');
                    div.className = `report-item ${item.id === currentReportId ? 'active' : ''}`; 
                    const titleText = item.title[currentLang] || item.title.en;
                    
                    div.onclick = (e) => { 
                        e.stopPropagation(); 
                        currentReportId = item.id; 
                        renderList(); 
                        loadReport(item.id);
                        if(window.innerWidth <= 900) document.querySelector('.content-view').scrollIntoView({behavior: 'smooth'});
                    };

                    div.innerHTML = `<span class="item-date">${item.date}</span><div class="item-title">${titleText}</div>`;
                    groupContent.appendChild(div);
                });

                listContainer.appendChild(groupHeader);
                listContainer.appendChild(groupContent);
            });
        }

        function loadReport(id) {
            const data = reports.find(r => r.id == id);
            if(data) {
                currentReportId = id;
                contentContainer.innerHTML = data.content;
                // æ›¿æ¢å›¾ç‰‡æ ‡ç­¾ä¸­çš„å ä½ç¬¦
                contentContainer.innerHTML = contentContainer.innerHTML.replace('<img src="assets/analysis/XAUUSD_2025-11-25_09-38-16.png" alt="XAUUSD Daily Intraday Analysis" loading="lazy">', '').replace('<img src="assets/analysis/xauusd_nov25.jpg" alt="XAUUSD Weekly Outlook Chart Analysis" loading="lazy">', '');
                
                document.querySelector('.content-view').scrollTop = 0;
            }
        }

        function init() {
            autoDetectLanguage();
            if (reports.length > 0) {
                // åŠ è½½æœ€æ–°çš„æŠ¥å‘Š (11-25çš„æ—¥å†…æŠ¥å‘Š)
                currentReportId = reports[0].id; 
                renderList();
                loadReport(currentReportId); 
            } else {
                 contentContainer.innerHTML = '<div class="lang-cn">æš‚æ— åˆ†ææŠ¥å‘Š</div><div class="lang-en">No analysis reports available</div>';
            }
        }

        function autoDetectLanguage() {
            const userLang = navigator.language || navigator.userLanguage; 
            if (userLang.toLowerCase().includes('zh')) { setLanguage('cn', false); } else { setLanguage('en', false); }
        }

        function setLanguage(lang, reload = true) {
            currentLang = lang;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('lang-cn-btn').disabled = (lang === 'cn');
            document.getElementById('lang-en-btn').disabled = (lang === 'en');

            if (lang === 'cn') { 
                document.body.classList.remove('en-mode'); 
                document.body.classList.add('cn-mode'); 
            } else { 
                document.body.classList.remove('cn-mode'); 
                document.body.classList.add('en-mode'); 
            }
            
            if (reload && currentReportId) {
                renderList();
                loadReport(currentReportId); 
            } else if (reload && reports.length > 0) {
                currentReportId = reports[0].id;
                renderList();
                loadReport(currentReportId);
            }
        }

        init();
    </script>
</body>
</html>