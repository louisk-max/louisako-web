<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L.K. Capital | Research Library</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,400&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%230a2540%22/><text y=%2265%22 font-size=%2250%22 font-family=%22serif%22 font-weight=%22bold%22 x=%2250%22 text-anchor=%22middle%22 fill=%22%23c5a059%22>LK</text></svg>">

    <style>
        /* === 1. æ ¸å¿ƒé…è‰² === */
        :root { --bg: #ffffff; --text-main: #1a1a1a; --text-light: #555; --accent: #0a2540; --gold: #c5a059; --sidebar-bg: #f8f9fa; --border: #e5e5e5; --code-bg: #f4f6f8; }
        * { box-sizing: border-box; }
        html, body { margin: 0; padding: 0; width: 100%; height: 100%; background-color: var(--bg); font-family: "Inter", sans-serif; color: var(--text-main); overflow: hidden; display: flex; flex-direction: column; }

        /* === 2. åŒè¯­æ§åˆ¶ === */
        .lang-cn { display: none !important; } .lang-en { display: block !important; }
        body.cn-mode .lang-cn { display: block !important; } body.cn-mode .lang-en { display: none !important; }

        /* === 3. é¡¶éƒ¨å¯¼èˆª === */
        .top-bar { height: 70px; flex-shrink: 0; background: #fff; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; padding: 0 30px; z-index: 100; position: relative; }
        .brand { font-family: "Playfair Display", serif; font-weight: 700; color: var(--accent); text-decoration: none; font-size: 1.2rem; letter-spacing: 0.5px; }
        .nav-right { display: flex; gap: 30px; align-items: center; }
        .nav-link { color: var(--text-light); text-decoration: none; font-size: 0.85rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; cursor: pointer; }
        .nav-link:hover { color: var(--accent); }

        /* === 4. ä¸»å¸ƒå±€ === */
        .library-layout { display: flex; flex: 1; overflow: hidden; height: calc(100vh - 70px); }
        .sidebar { width: 320px; background: var(--sidebar-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; flex-shrink: 0; overflow-y: auto; }
        .sidebar-header { padding: 30px; border-bottom: 1px solid rgba(0,0,0,0.05); }
        .sidebar-title { font-family: "Playfair Display"; font-size: 1.2rem; color: var(--accent); margin: 0; }
        .sidebar-subtitle { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-top: 5px; display: block; }
        .sidebar-content { padding: 30px; }

        .cat-group { margin-bottom: 40px; }
        .cat-name { font-size: 0.75rem; font-weight: 800; color: var(--gold); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px; display: block; }
        .article-link { display: block; padding: 10px 0; color: #444; font-size: 0.95rem; line-height: 1.4; cursor: pointer; transition: 0.2s; }
        .article-link:hover { color: var(--accent); transform: translateX(5px); }

        .toc-back-btn { display: inline-block; margin-bottom: 20px; font-size: 0.8rem; color: var(--text-light); cursor: pointer; padding: 6px 12px; border: 1px solid #ddd; border-radius: 4px; transition: 0.2s; background: #fff; }
        .toc-back-btn:hover { background: var(--accent); color: #fff; border-color: var(--accent); }
        .toc-list { list-style: none; padding: 0; margin: 0; border-left: 2px solid #eee; }
        .toc-link { display: block; padding: 8px 0 8px 15px; font-size: 0.85rem; color: #666; text-decoration: none; border-left: 2px solid transparent; margin-left: -2px; transition: 0.2s; }
        .toc-link:hover, .toc-link.active { color: var(--accent); font-weight: 700; border-left-color: var(--gold); }
        .toc-h3 { padding-left: 30px; font-size: 0.8rem; }

        /* === 5. å³ä¾§è§†å›¾ === */
        .main-view { flex: 1; overflow-y: auto; position: relative; scroll-behavior: smooth; background: #fff; }
        .welcome-screen { height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background-image: radial-gradient(#e5e5e5 1px, transparent 1px); background-size: 30px 30px; }
        .slogan-main { font-family: "Playfair Display"; font-size: 3.5rem; color: var(--accent); margin-bottom: 20px; opacity: 0; animation: fadeUp 1s forwards; }
        .slogan-sub { font-size: 0.9rem; color: #888; text-transform: uppercase; letter-spacing: 4px; opacity: 0; animation: fadeUp 1s forwards 0.3s; }
        .article-container { max-width: 850px; margin: 0 auto; padding: 80px 40px 150px; display: none; position: relative; }
        .article-container.visible { display: block; animation: fadeIn 0.5s ease; }

        /* === è‡ªåŠ¨åŒ–åˆ†äº«ç»„ä»¶ === */
        .share-toolbar { display: flex; gap: 15px; margin-top: 60px; padding-top: 30px; border-top: 1px dashed #eee; }
        .share-btn { display: flex; align-items: center; gap: 8px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: #888; text-decoration: none; cursor: pointer; transition: 0.2s; border: 1px solid #eee; padding: 8px 16px; border-radius: 20px; }
        .share-btn:hover { border-color: var(--gold); color: var(--accent); background: #fff; transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .share-btn svg { width: 14px; height: 14px; fill: currentColor; }
        
        #copy-toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--accent); color: #fff; padding: 10px 20px; border-radius: 30px; font-size: 0.8rem; opacity: 0; transition: 0.3s; pointer-events: none; z-index: 999; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        #copy-toast.show { opacity: 1; bottom: 50px; }

        /* æ–‡ç« å†…å®¹æ ·å¼ */
        .report-header { margin-bottom: 60px; border-bottom: 1px solid var(--border); padding-bottom: 40px; }
        .report-label { font-size: 0.8rem; font-weight: 700; color: var(--gold); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; display: block; }
        .report-title { font-family: "Playfair Display"; font-size: 2.8rem; color: var(--accent); margin-bottom: 20px; line-height: 1.1; }
        .report-meta { font-family: "JetBrains Mono", monospace; font-size: 0.8rem; color: #888; background: var(--code-bg); padding: 10px 15px; display: inline-block; border-radius: 4px; }

        h2 { font-family: "Playfair Display"; font-size: 1.8rem; color: var(--accent); margin-top: 80px; margin-bottom: 30px; padding-bottom: 10px; border-bottom: 1px solid var(--gold); }
        h3 { font-size: 1.2rem; font-weight: 700; margin-top: 50px; margin-bottom: 20px; color: #333; }
        p { line-height: 1.8; color: #444; margin-bottom: 20px; font-size: 1.05rem; text-align: justify; }
        ul, ol { margin-bottom: 25px; color: #444; padding-left: 20px; line-height: 1.8; }
        li { margin-bottom: 10px; }
        blockquote { font-family: "Playfair Display"; font-size: 1.4rem; font-style: italic; color: var(--gold); text-align: center; margin: 60px 0; padding: 30px; background: #fafafa; border-radius: 8px; }
        .concept-box { background: var(--code-bg); border-left: 4px solid var(--accent); padding: 25px; margin: 30px 0; border-radius: 0 8px 8px 0; }
        .concept-title { font-family: "Inter"; font-weight: 800; color: var(--accent); display: block; margin-bottom: 10px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .brand-watermark { position: fixed; top: 50%; left: 58%; transform: translate(-50%, -50%) rotate(-30deg); font-family: "Playfair Display", serif; font-weight: 900; font-size: 7rem; color: #000; opacity: 0.03; pointer-events: none; z-index: 0; white-space: nowrap; user-select: none; }

        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @media(max-width: 900px) { .library-layout { flex-direction: column; overflow-y: auto; height: auto; } .sidebar { width: 100%; height: auto; max-height: 300px; border-right: none; border-bottom: 1px solid var(--border); } .main-view { overflow: visible; } .welcome-screen { padding: 60px 20px; height: 50vh; } .slogan-main { font-size: 2rem; } .article-container { padding: 40px 20px; } .report-title { font-size: 2rem; } .brand-watermark { left: 50%; font-size: 3rem; opacity: 0.04; } }
    </style>
</head>
<body class="en-mode"> 

    <div class="top-bar">
        <a href="index.html" class="brand">L.K. Research</a>
        <div class="nav-right">
            <a href="index.html" class="nav-link">Home</a>
            <a href="services.html" class="nav-link">Services</a>
            <a href="analysis.html" class="nav-link">Strategy Analysis</a>
        </div>
    </div>

    <div class="library-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">Library</h2>
                <span class="sidebar-subtitle">Institutional Analysis</span>
            </div>
            <div class="sidebar-content" id="sidebar-list"></div>
        </aside>

        <main class="main-view" id="main-scroll">
            <div id="view-welcome" class="welcome-screen">
                <div class="slogan-main">Discipline Creates Freedom.</div>
                <div class="slogan-sub">Select a document to begin research</div>
            </div>

            <div id="view-article" class="article-container">
                <div class="brand-watermark">L.K. Capital</div>
                
                <!-- æ–‡ç« å†…å®¹æ³¨å…¥ç‚¹ -->
                <div id="article-inject-point"></div>

                <!-- ğŸ“¢ è‡ªåŠ¨åŒ–åˆ†äº«æŒ‰é’®æ  -->
                <div class="share-toolbar" id="share-toolbar" style="display:none;">
                    <a class="share-btn" onclick="shareTo('x')"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>X / Twitter</a>
                    <a class="share-btn" onclick="shareTo('linkedin')"><svg viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>LinkedIn</a>
                    <a class="share-btn" onclick="shareTo('copy')"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>Copy Link</a>
                </div>

                <div style="margin-top: 60px; padding-top: 30px; text-align: center; color: #999; font-size: 0.8rem; position: relative; z-index: 2;">
                    &copy; 2025 L.K. Capital Research Team.
                </div>
            </div>
        </main>
    </div>

    <!-- å¤åˆ¶æˆåŠŸæç¤º -->
    <div id="copy-toast">Link Copied to Clipboard</div>

    <script>
        let currentLang = 'en'; 
        let currentArticleId = null; 

        function autoDetectLanguage() {
            const userLang = navigator.language || navigator.userLanguage; 
            if (userLang.toLowerCase().includes('zh')) { setLanguage('cn'); } else { setLanguage('en'); }
        }

        function setLanguage(lang) {
            currentLang = lang;
            if (lang === 'cn') { document.body.classList.remove('en-mode'); document.body.classList.add('cn-mode'); }
            else { document.body.classList.remove('cn-mode'); document.body.classList.add('en-mode'); }
            if (currentArticleId) regenerateTOC(); else renderCatalog();
        }

        // === ğŸ“š æ•°æ®åº“ï¼šå®Œæ•´ç‰ˆç™½çš®ä¹¦ ===
        const articleDatabase = [
            {
                category: { en: "Whitepapers (SMC)", cn: "æ ¸å¿ƒç ”æŠ¥ (SMC)" },
                articles: [
                    {
                        id: "xauusd_whitepaper_2025",
                        title: { en: "XAUUSD Institutional Order Flow", cn: "XAUUSD æœºæ„è®¢å•æµåˆ†æ" },
                        content: `
                            <div class="report-header">
                                <span class="report-label">Institutional Whitepaper</span>
                                <div class="lang-cn"><h1 class="report-title">XAUUSD æœºæ„è®¢å•æµä¸<br>é‡åŒ–è¡Œä¸ºåˆ†ææŠ¥å‘Š</h1><div class="report-meta">ç‰ˆæœ¬: 2025 ç»ˆæç‰ˆ | ä½œè€…: Louisako Research</div></div>
                                <div class="lang-en"><h1 class="report-title">XAUUSD Institutional Order Flow &<br>Quantitative Behavior Analysis</h1><div class="report-meta">Version: 2025 Ultimate | Author: Louisako Research</div></div>
                            </div>

                            <!-- Preface -->
                            <section>
                                <div class="lang-cn">
                                    <h3>åºè¨€</h3>
                                    <p>åœ¨é›¶å’Œåšå¼ˆçš„é‡‘èå¸‚åœºä¸­ï¼Œä»·æ ¼å¹¶ééšæœºæ¸¸èµ°ï¼Œè€Œæ˜¯ç”±<strong>æµåŠ¨æ€§ (Liquidity)</strong> å’Œ <strong>ä¸å¹³è¡¡ (Imbalance)</strong> é©±åŠ¨çš„ã€‚å¯¹äºé»„é‡‘ (XAUUSD) è¿™ä¸€å…¨çƒæµåŠ¨æ€§æœ€å……è£•ã€ç®—æ³•åšå¼ˆæœ€æ¿€çƒˆçš„å“ç§ï¼Œä¼ ç»Ÿçš„é›¶å”®æŠ€æœ¯åˆ†æå¾€å¾€å¤±æ•ˆã€‚</p>
                                    <p>æœ¬æŠ¥å‘ŠåŸºäº Smart Money Concepts (SMC) ç†è®ºä½“ç³»ï¼Œæ—¨åœ¨æ­ç¤ºé“¶è¡Œé—´ä»·æ ¼äº¤ä»˜ç®—æ³• (IPDA) çš„è¿ä½œé€»è¾‘ã€‚æˆ‘ä»¬ä¸é¢„æµ‹å¸‚åœºï¼Œæˆ‘ä»¬è¿½è¸ªâ€œèªæ˜é’±â€ç•™ä¸‹çš„è„šå°ã€‚</p>
                                </div>
                                <div class="lang-en">
                                    <h3>Preface</h3>
                                    <p>In the zero-sum game of financial markets, price does not move randomly; it is driven by <strong>Liquidity</strong> and <strong>Imbalance</strong>. For Gold (XAUUSD), an asset with immense global liquidity and intense algorithmic competition, traditional retail technical analysis often fails.</p>
                                    <p>This report is based on the Smart Money Concepts (SMC) framework, aiming to reveal the operational logic of the Interbank Price Delivery Algorithm (IPDA). We do not predict the market; we track the footprints left by "Smart Money".</p>
                                </div>
                            </section>

                            <!-- Part I -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 1 ç« ï¼šSMC æ ¸å¿ƒæœ¯è¯­ä¸å®šä¹‰</h2><p>SMC æ˜¯ä¸€é—¨å…³äºâ€œå¹³è¡¡â€çš„è¯­è¨€ã€‚åœ¨æ·±å…¥ç­–ç•¥ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ç»Ÿä¸€å®šä¹‰å¸‚åœºçš„åŸºæœ¬è¯æ±‡ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 1: SMC Core Glossary</h2><p>SMC is a language of "equilibrium". Before diving into strategies, we must unify the definitions of basic market vocabulary.</p></div>
                                
                                <div class="concept-box">
                                    <span class="lang-cn concept-title">ç»“æ„ç ´å (BOS)</span><span class="lang-en concept-title">Break of Structure (BOS)</span>
                                    <div class="lang-cn"><strong>å®šä¹‰ï¼š</strong> ä»·æ ¼å®ä½“æ”¶ç›˜çªç ´äº†å‰ä¸€ä¸ªæœ‰æ•ˆçš„é«˜ç‚¹ï¼ˆä¸Šå‡è¶‹åŠ¿ï¼‰æˆ–ä½ç‚¹ï¼ˆä¸‹é™è¶‹åŠ¿ï¼‰ã€‚è¿™æ„å‘³ç€æœºæ„æ„æ„¿å¼ºåŠ²ã€‚</div>
                                    <div class="lang-en"><strong>Definition:</strong> Price candle body closes above/below a previous valid high (uptrend) or low (downtrend). Indicates strong institutional intent.</div>
                                </div>
                                <div class="concept-box">
                                    <span class="lang-cn concept-title">ç»“æ„è½¬å˜ (CHoCH)</span><span class="lang-en concept-title">Change of Character (CHoCH)</span>
                                    <div class="lang-cn"><strong>å®šä¹‰ï¼š</strong> ä»·æ ¼åå‘æ‰“ç ´äº†å¯¼è‡´æœ€æ–° BOS çš„é‚£ä¸ªâ€œæ¬¡çº§ä½ç‚¹/é«˜ç‚¹â€ã€‚è¿™æ˜¯è¶‹åŠ¿åè½¬çš„ç¬¬ä¸€ä¸ªä¿¡å·ã€‚</div>
                                    <div class="lang-en"><strong>Definition:</strong> Price breaks the "last higher low/lower high" that caused the latest BOS. This is the first signal of a trend reversal.</div>
                                </div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 2 ç« ï¼šä¾›éœ€ç»“æ„ä¸è®¢å•å—</h2><p>OB æ˜¯æœºæ„å»ºä»“ç•™ä¸‹çš„è¶³è¿¹ã€‚æœºæ„å»ºä»“æµç¨‹ï¼šå‹ä»·â€“æ”¶é›†â€“æ¨åŠ¨â€“å›æµ‹ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 2: Order Blocks & Repricing</h2><p>OBs are the footprints of institutional accumulation. Institutional process: Manipulate -> Accumulate -> Expand -> Retest.</p></div>
                                <div class="concept-box">
                                    <span class="lang-cn concept-title">è®¢å•å— (OB)</span><span class="lang-en concept-title">Order Block (OB)</span>
                                    <div class="lang-cn"><strong>å®šä¹‰ï¼š</strong> å¯¼è‡´ç»“æ„ç ´å (BOS) æˆ– å‰§çƒˆæ³¢åŠ¨ (Displacement) ä¹‹å‰çš„æœ€åä¸€æ ¹åå‘ K çº¿ã€‚</div>
                                    <div class="lang-en"><strong>Definition:</strong> The last opposing candle before a Break of Structure (BOS) or violent Displacement.</div>
                                </div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 3 ç« ï¼šä»·æ ¼å¤±è¡¡ä¸ FVG æœºåˆ¶</h2><p>FVG æ˜¯å¸‚åœºæ•ˆç‡ä½ä¸‹çš„è¡¨ç°ã€‚ç”±äºè®¢å•æŒ¤å‹å’Œä¸å¹³è¡¡æ’®åˆï¼Œç®—æ³•æ€»ä¼šè¯•å›¾ä¿®å¤å®ƒã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 3: Imbalance & FVG</h2><p>FVGs represent market inefficiency. Due to order compression and matching imbalance, algorithms will always attempt to reprice them.</p></div>
                                <div class="concept-box">
                                    <span class="lang-cn concept-title">å…¬å…ä»·å€¼ç¼ºå£ (FVG)</span><span class="lang-en concept-title">Fair Value Gap (FVG)</span>
                                    <div class="lang-cn"><strong>å®šä¹‰ï¼š</strong> ä¸‰æ ¹ K çº¿ç»„åˆä¸­ï¼Œç¬¬ä¸€æ ¹å½±çº¿ä¸ç¬¬ä¸‰æ ¹å½±çº¿æœªé‡å çš„ç©ºç™½åŒºåŸŸã€‚</div>
                                    <div class="lang-en"><strong>Definition:</strong> The gap between the wick of the 1st candle and the wick of the 3rd candle in a 3-candle sequence.</div>
                                </div>
                            </section>

                            <!-- Part II -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 4 ç« ï¼šIPDA ä¸ä»·æ ¼äº¤ä»˜æ¨¡å‹</h2><p>é“¶è¡Œé—´ä»·æ ¼äº¤ä»˜ç®—æ³• (IPDA) æ˜¯å¸‚åœºçš„æ“ä½œç³»ç»Ÿã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 4: IPDA & Price Delivery</h2><p>The Interbank Price Delivery Algorithm (IPDA) is the operating system of the market.</p></div>
                                <div class="lang-cn">
                                    <p>å¸‚åœºæ°¸è¿œå¤„äºå››ä¸ªé˜¶æ®µçš„å¾ªç¯ä¸­ï¼š<strong>ç§¯ç´¯ (Accumulation) â†’ æ‰©å¼  (Expansion) â†’ å›æ’¤ (Retracement) â†’ åè½¬ (Reversal)</strong>ã€‚</p>
                                </div>
                                <div class="lang-en">
                                    <p>The market cycles through four stages: <strong>Accumulation â†’ Expansion â†’ Retracement â†’ Reversal</strong>.</p>
                                </div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 5 ç« ï¼šXAUUSD çš„â€œçŒæ€è¡Œä¸ºâ€</h2><p>é»„é‡‘æ˜¯æµåŠ¨æ€§çŒæ€ä¹‹ç‹ã€‚é«˜æ³¢åŠ¨ã€é«˜å¯†åº¦æ­¢æŸæ˜¯å…¶ç‰¹å¾ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 5: The Hunt for Liquidity</h2><p>Gold is the king of liquidity hunts, characterized by high volatility and dense stop-loss clusters.</p></div>
                                <div class="lang-cn">
                                    <p><strong>æœºæ„é€»è¾‘ï¼š</strong> åšå¸‚å•†éœ€è¦å¯¹æ‰‹ç›˜ã€‚å¦‚æœä»–ä»¬æƒ³åšå¤šï¼Œå¿…é¡»å…ˆè¯±å¯¼æ•£æˆ·åšç©ºï¼ˆè·Œç ´æ”¯æ’‘ï¼‰ï¼Œæˆ–è§¦å‘å¤šå¤´çš„æ­¢æŸå–å•ï¼ˆSell Stopsï¼‰ã€‚</p>
                                </div>
                                <div class="lang-en">
                                    <p><strong>Institutional Logic:</strong> Market Makers need counterparties. To buy size, they must induce retail to sell (breaking support) or trigger long Sell Stops.</p>
                                </div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 6 ç« ï¼šé«˜é¢‘äº¤æ˜“ä¸é‡åŒ–è¡Œä¸º</h2><p>HFT ç®—æ³•åœ¨æ¯«ç§’çº§åˆ«å¯»æ‰¾æµåŠ¨æ€§è·¯å¾„ (Liquidity Routing)ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 6: HFT & Algo Behavior</h2><p>HFT algorithms seek liquidity routing paths in milliseconds.</p></div>
                            </section>

                            <!-- Part III -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 7 ç« ï¼šå¤šæ—¶é—´æ¡†æ¶åˆ†æ</h2></div>
                                <div class="lang-en"><h2>Chapter 7: Top-Down Analysis</h2></div>
                                <div class="lang-cn">
                                    <ul>
                                        <li><strong>å®è§‚ (Macro)ï¼š</strong> æœˆçº¿/å‘¨çº¿/æ—¥çº¿ â€”â€” å†³å®šå¤§æ–¹å‘ (Bias)ã€‚</li>
                                        <li><strong>ä¸­è§‚ (Intermediate)ï¼š</strong> 4å°æ—¶/1å°æ—¶ â€”â€” å†³å®šå…³é”®å…´è¶£åŒº (POI)ã€‚</li>
                                        <li><strong>å¾®è§‚ (Micro)ï¼š</strong> 15åˆ†é’Ÿ/5åˆ†é’Ÿ â€”â€” å†³å®šå…¥åœºè§¦å‘ (Trigger)ã€‚</li>
                                    </ul>
                                </div>
                                <div class="lang-en">
                                    <ul>
                                        <li><strong>Macro:</strong> Monthly/Weekly/Daily â€” Determines Bias.</li>
                                        <li><strong>Intermediate:</strong> H4/H1 â€” Determines Point of Interest (POI).</li>
                                        <li><strong>Micro:</strong> M15/M5 â€” Determines Entry Trigger.</li>
                                    </ul>
                                </div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 8 ç« ï¼šå¼ºå¼±ç»“æ„ä¸â€œç›®æ ‡ vs ä¿æŠ¤â€</h2></div><div class="lang-en"><h2>Chapter 8: Strong vs. Weak Structure</h2></div>
                                <div class="concept-box"><span class="lang-cn concept-title">å¼ºé«˜ç‚¹/ä½ç‚¹ (Strong High/Low)</span><span class="lang-en concept-title">Strong High/Low</span><div class="lang-cn">å¯¼è‡´äº†ç»“æ„ç ´å (BOS) å¹¶åˆ›å‡ºæ–°ä½çš„é«˜ç‚¹ã€‚å®ƒæ˜¯<strong>å—ä¿æŠ¤çš„</strong>ï¼Œæœºæ„ä¼šæå«è¿™ä¸ªä½ç½®ã€‚è¿™æ˜¯æ”¾ç½®æ­¢æŸçš„æœ€ä½³ç‚¹ã€‚</div><div class="lang-en">A high/low that caused a BOS and created a new extreme. It is <strong>protected</strong>; institutions will defend it. Best place for Stop Loss.</div></div>
                                <div class="concept-box"><span class="lang-cn concept-title">å¼±é«˜ç‚¹/ä½ç‚¹ (Weak High/Low)</span><span class="lang-en concept-title">Weak High/Low</span><div class="lang-cn">æœªèƒ½æ¨åŠ¨ä»·æ ¼åˆ›æ–°ä½çš„é«˜ç‚¹ã€‚å®ƒæ˜¯<strong>ç›®æ ‡ (Target)</strong>ï¼Œä»·æ ¼å¤§æ¦‚ç‡ä¼šçªç ´è¿™é‡Œå»æ‰«æŸã€‚æ°¸è¿œä¸è¦åœ¨å¼±é«˜ç‚¹ä¸Šæ–¹åšç©ºã€‚</div><div class="lang-en">A high/low that failed to break structure. It is a <strong>Target</strong>; price will likely run through it for liquidity. Never short above a weak high.</div></div>
                            </section>

                            <section id="ch9" class="chapter">
                                <div class="lang-cn">
                                    <h2>ç¬¬ 9 ç« ï¼šé«˜é˜¶ç»“æ„æ¨¡å‹ä¸ä¸‰åè¡¥å•ç»“æ„</h2>
                                    <p>åœ¨ç†è§£äº†åŸºç¡€çš„å¸‚åœºç»“æ„ï¼ˆBOS/CHoCHï¼‰ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è§£å†³ä¸€ä¸ªå®æˆ˜ä¸­æœ€å¤§çš„ç—›ç‚¹ï¼š<strong>â€œæ—¢ç„¶ç»“æ„å·²ç»ç ´åï¼Œä¸ºä»€ä¹ˆå›è¸©ä¹‹åä¸å»¶ç»­è¶‹åŠ¿ï¼Œåè€Œç»§ç»­æ·±è·Œï¼Ÿâ€</strong></p>
                                    <p>è¿™æ˜¯å› ä¸ºå¸‚åœºå¹¶éçº¿æ€§çš„â€œçªç ´-å›è¸©-å»¶ç»­â€ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ä¸‰ç»´çš„æµåŠ¨æ€§å¹³è¡¡è¿‡ç¨‹</strong>ã€‚L.K. Capital å°†è¿™ä¸€è¿‡ç¨‹å®šä¹‰ä¸º<strong>â€œä¸‰åè¡¥å•ç»“æ„â€ (Three-Phase Retracement)</strong>ã€‚</p>
                                    <div class="concept-box">
                                        <span class="concept-title">æ ¸å¿ƒå®šä¹‰</span>
                                        <strong>ä¸‰åç»“æ„ (Three-Phase Structure)ï¼š</strong> æŒ‡åœ¨ä¸»è¦è¶‹åŠ¿å‘èµ·å‰æˆ–å»¶ç»­ä¸­ï¼Œä»·æ ¼å¿…ç„¶ç»å†çš„ä¸‰ä¸ªç‰¹å®šé˜¶æ®µï¼š<br>
                                        1. <strong>æ‰«è¡ (Sweep)ï¼š</strong> æ¸…é™¤æ—§çš„æµåŠ¨æ€§ã€‚<br>
                                        2. <strong>å›å½’ (Return)ï¼š</strong> å›åˆ°å¤±è¡¡åŒºè¿›è¡Œè¡¥å•ã€‚<br>
                                        3. <strong>æ‰©å¼  (Expansion)ï¼š</strong> çœŸå®è¶‹åŠ¿çš„é‡Šæ”¾ã€‚
                                    </div>
                                </div>
                                <div class="lang-en">
                                    <h2>Chapter 9: Advanced Structure & Three-Phase Retracement</h2>
                                    <p>After understanding basic Market Structure (BOS/CHoCH), we must address the biggest pain point in live trading: <strong>"Why does price break structure, retrace, and then fail to continue?"</strong></p>
                                    <p>This happens because the market is a <strong>3-dimensional process of liquidity balancing</strong>. At L.K. Capital, we define this as the <strong>"Three-Phase Retracement"</strong> structure.</p>
                                    <div class="concept-box">
                                        <span class="concept-title">Core Definition</span>
                                        <strong>Three-Phase Structure:</strong> A mandatory sequence price undergoes before or during a major trend:<br>
                                        1. <strong>Sweep:</strong> Clearing old liquidity (Stops).<br>
                                        2. <strong>Return (Mitigation):</strong> Returning to imbalance for order stacking.<br>
                                        3. <strong>Expansion:</strong> Release of the true trend.
                                    </div>
                                </div>
                            </section>

                            <!-- Part IV -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 10 ç« ï¼šæµåŠ¨æ€§æ±  (Liquidity Pools)</h2><p>BSL (ä¹°æ–¹æµåŠ¨æ€§) å’Œ SSL (å–æ–¹æµåŠ¨æ€§) æ˜¯å¸‚åœºçš„ç›®æ ‡ã€‚</p><p>ä¸ºä»€ä¹ˆâ€œä½ è§‰å¾—å®‰å…¨çš„åœ°æ–¹ï¼Œé€šå¸¸æ˜¯æµåŠ¨æ€§é›†ä¸­åŒºâ€ï¼Ÿ</p></div>
                                <div class="lang-en"><h2>Chapter 10: Liquidity Pools</h2><p>BSL (Buy-Side Liquidity) and SSL (Sell-Side Liquidity) are the market's targets.</p><p>Why "where you feel safe is often where liquidity is concentrated"?</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 11 ç« ï¼šè¯±å¯¼ç»“æ„ (Inducement)</h2><p>IDM æ˜¯é™·é˜±ã€‚åœ¨ä»·æ ¼åˆ°è¾¾çœŸæ­£çš„ POI ä¹‹å‰å½¢æˆçš„å°æ”¯æ’‘ï¼Œç›®çš„æ˜¯è¯±å¯¼æ•£æˆ·æå‰è¿›åœºã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 11: Inducement (IDM)</h2><p>IDM is a trap. Minor support formed right before the real POI to induce early retail entry.</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 12 ç« ï¼šé«˜çº§è®¢å•å—è¿‡æ»¤</h2><p>OB + FVG + Sweep = é«˜èƒœç‡ã€‚</p><p>ä½•æ—¶æ”¾å¼ƒ OBï¼šæ— æ•ˆ OB çš„ç‰¹å¾ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 12: Advanced OB Filters</h2><p>OB + FVG + Sweep = High Probability.</p><p>When to discard an OB: Characteristics of invalid OBs.</p></div>
                            </section>

                            <!-- Part V -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 13 ç« ï¼šé«˜èƒœç‡å…¥åœºæ¨¡å‹</h2><p>æ¨¡å‹ Aï¼šè¶‹åŠ¿å»¶ç»­ï¼ˆContinuation Modelï¼‰ï¼›æ¨¡å‹ Bï¼šæµ·é¾Ÿæ±¤ / Sweep åè½¬æ¨¡å‹ï¼›æ¨¡å‹ Cï¼šç»“æ„åè½¬æ¨¡å‹ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 13: Entry Models</h2><p>Model A: Trend Continuation; Model B: Turtle Soup Reversal; Model C: Structure Reversal.</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 14 ç« ï¼šæ—¶é—´ç»“æ„ä¸ Kill Zones</h2></div><div class="lang-en"><h2>Chapter 14: Time & Kill Zones</h2></div>
                                <div class="concept-box"><span class="lang-cn concept-title">ä¼¦æ•¦å¼€ç›˜ (London Open)</span><span class="lang-en concept-title">London Open (07:00 UTC)</span><div class="lang-cn">Judas Swingï¼ˆçŠ¹å¤§æ‘†åŠ¨ï¼‰çš„å…¸å‹å½¢æ€ã€‚</div><div class="lang-en">Typical Judas Swing pattern.</div></div>
                                <div class="concept-box"><span class="lang-cn concept-title">çº½çº¦å¼€ç›˜ (New York Open)</span><span class="lang-en concept-title">New York Open (13:00 UTC)</span><div class="lang-cn">é»„é‡‘çœŸæ­£çš„â€œæˆ˜åœºæ—¶æ®µâ€ã€‚</div><div class="lang-en">The real "battleground" for Gold.</div></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 15 ç« ï¼šSMT èƒŒç¦»ä¸è·¨å“ç§ç¡®è®¤</h2><p>å½“ DXY åˆ›æ–°é«˜è€Œ XAUUSD æ²¡åˆ›æ–°ä½æ—¶ï¼Œè¿™æ˜¯å¼ºçƒˆçš„åè½¬ä¿¡å·ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 15: SMT Divergence</h2><p>When DXY makes a higher high but XAUUSD fails to make a lower low, it's a strong reversal signal.</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 16 ç« ï¼šæ³¢åŠ¨ç‡ä¸ ADR æ¨¡å‹</h2><p>åˆ©ç”¨ ADR (å¹³å‡æ—¥æ³¢å¹…) åˆ¤æ–­å½“æ—¥åŠ¨èƒ½æ˜¯å¦è€—å°½ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 16: Volatility & ADR</h2><p>Using ADR (Average Daily Range) to judge if daily momentum is exhausted.</p></div>
                            </section>

                            <!-- Part VI -->
                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 17 ç« ï¼šæœ€å¤§ç—›ç‚¹è·¯å¾„ (Max Pain Path)</h2><p>å¸‚åœºæ€»æ˜¯æ²¿ç€â€œè®©å¤šæ•°äººæœ€ç—›è‹¦â€çš„è·¯å¾„è¿è¡Œã€‚åšå¸‚å•†åº“å­˜æ¨¡å‹ä¸â€œé€¼ä»“è¡Œä¸ºâ€ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 17: Max Pain Path</h2><p>The market always follows the path of "maximum pain" for the majority. MM inventory models and squeezes.</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 18 ç« ï¼šæ¦‚ç‡æ€ç»´ vs é¢„æµ‹æ€ç»´</h2><p>æ”¾å¼ƒé¢„æµ‹ï¼Œæ‹¥æŠ±æ¦‚ç‡ã€‚æ¥å—äºæŸæ˜¯ç»è¥æˆæœ¬ã€‚å¤§æ•°å®šå¾‹ä¸æœŸæœ›æ”¶ç›Šçš„æœ¬è´¨ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 18: Probability vs. Prediction</h2><p>Abandon prediction, embrace probability. Accept losses as operating costs. Law of Large Numbers.</p></div>
                            </section>

                            <section>
                                <div class="lang-cn"><h2>ç¬¬ 19 ç« ï¼šæ‰§è¡Œã€çºªå¾‹ä¸é•¿æœŸç”Ÿå­˜</h2><p>ä½¿ç”¨è¯„åˆ†å¡ç³»ç»Ÿ (Scorecard) è¿‡æ»¤ä½è´¨é‡äº¤æ˜“ã€‚å¦‚ä½•é¿å…â€œè¿èµ¢ä¹‹åçš„å†²åŠ¨åŠ æ æ†â€ã€‚</p></div>
                                <div class="lang-en"><h2>Chapter 19: Execution & Discipline</h2><p>Use a Scorecard system to filter out low-quality trades. How to avoid over-leveraging after winning streaks.</p></div>
                            </section>
                        `
                    }
                ]
            },
            {
                category: { en: "Market Outlook", cn: "å¸‚åœºå±•æœ›" },
                articles: [
                    {
                        id: "outlook_placeholder",
                        title: { en: "Q4 2025 Global Macro Forecast", cn: "2025å¹´ç¬¬å››å­£åº¦å®è§‚å‰ç»" },
                        content: `
                            <div class="lang-cn"><h1>å†…å®¹æ’°å†™ä¸­...</h1><p>è¯¥æŠ¥å‘Šå°†äºè¿‘æœŸå‘å¸ƒã€‚</p></div>
                            <div class="lang-en"><h1>Coming Soon...</h1><p>This report will be published shortly.</p></div>
                        `
                    }
                ]
            }
        ];

        // === 3. é€»è¾‘å¼•æ“ (Render Logic) ===
        const sidebarList = document.getElementById('sidebar-list');
        const viewWelcome = document.getElementById('view-welcome');
        const viewArticle = document.getElementById('view-article');
        const articleInject = document.getElementById('article-inject-point');
        const mainScroll = document.getElementById('main-scroll');
        const shareToolbar = document.getElementById('share-toolbar');

        function renderCatalog() {
            currentArticleId = null; 
            let html = '';
            articleDatabase.forEach(group => {
                const catName = group.category[currentLang] || group.category.en;
                html += `<div class="cat-group"><span class="cat-name">${catName}</span>`;
                group.articles.forEach(art => {
                    const artTitle = art.title[currentLang] || art.title.en;
                    html += `<div class="article-link" onclick="updateHashAndLoad('${art.id}')">${artTitle}</div>`;
                });
                html += `</div>`;
            });
            sidebarList.innerHTML = html;
        }

        function updateHashAndLoad(id) { window.location.hash = id; loadArticle(id); }

        function loadArticle(id) {
            let targetArticle = null;
            articleDatabase.forEach(group => { const found = group.articles.find(a => a.id === id); if (found) targetArticle = found; });
            if (!targetArticle) return;

            currentArticleId = id; 
            viewWelcome.style.display = 'none';
            viewArticle.classList.add('visible');
            shareToolbar.style.display = 'flex'; // Show share toolbar
            articleInject.innerHTML = targetArticle.content;
            mainScroll.scrollTop = 0;
            
            regenerateTOC();
        }

        function regenerateTOC() {
            let targetArticle = null;
            articleDatabase.forEach(group => { const found = group.articles.find(a => a.id === currentArticleId); if (found) targetArticle = found; });
            if (!targetArticle) return;

            const backText = currentLang === 'en' ? "â† Back to Library" : "â† è¿”å›çŸ¥è¯†åº“";
            const currentTitle = targetArticle.title[currentLang] || targetArticle.title.en;

            let tocHTML = `<div class="toc-back-btn" onclick="goBackToCatalog()">${backText}</div>`;
            tocHTML += `<div style="font-weight:700; color:#0a2540; margin-bottom:15px; font-size:0.9rem; line-height:1.4;">${currentTitle}</div>`;
            tocHTML += `<ul class="toc-list">`;

            const allHeaders = articleInject.querySelectorAll('h2, h3');
            allHeaders.forEach((header, index) => {
                const langParent = header.closest('.lang-cn, .lang-en');
                if (langParent) {
                     if (currentLang === 'en' && langParent.classList.contains('lang-cn')) return;
                     if (currentLang === 'cn' && langParent.classList.contains('lang-en')) return;
                }
                const anchorId = 'toc-' + index; header.id = anchorId;
                const isH3 = header.tagName === 'H3'; const className = isH3 ? 'toc-link toc-h3' : 'toc-link';
                tocHTML += `<li class="toc-item"><a href="#${anchorId}" class="${className}">${header.innerText}</a></li>`;
            });
            tocHTML += `</ul>`;
            sidebarList.innerHTML = tocHTML;
        }

        function goBackToCatalog() {
            window.location.hash = ''; viewArticle.classList.remove('visible'); viewWelcome.style.display = 'flex'; viewArticle.style.display = 'none'; renderCatalog();
        }

        function shareTo(platform) {
            const url = encodeURIComponent(window.location.href); const title = document.title;
            if (platform === 'x') window.open(`https://twitter.com/intent/tweet?text=${title}&url=${url}`, '_blank');
            else if (platform === 'linkedin') window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank');
            else if (platform === 'copy') { navigator.clipboard.writeText(window.location.href).then(() => { const toast = document.getElementById('copy-toast'); toast.classList.add('show'); setTimeout(() => toast.classList.remove('show'), 2000); }); }
        }

        function autoDetectLanguage() {
            const userLang = navigator.language || navigator.userLanguage; 
            if (userLang.toLowerCase().includes('zh')) { setLanguage('cn'); } else { setLanguage('en'); }
        }

        function setLanguage(lang) {
            currentLang = lang;
            if (lang === 'cn') { document.body.classList.remove('en-mode'); document.body.classList.add('cn-mode'); }
            else { document.body.classList.remove('cn-mode'); document.body.classList.add('en-mode'); }
            if (currentArticleId) regenerateTOC(); else renderCatalog();
        }

        function init() {
            autoDetectLanguage();
            const hash = window.location.hash.substring(1);
            if (hash) loadArticle(hash); else renderCatalog();
        }

        init();
    </script>
</body>
</html>